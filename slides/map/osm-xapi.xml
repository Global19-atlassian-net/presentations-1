<slide>
<title>Fetching OSM data</title>

<div effect="fade-out">
<blurb>The whole planet (bad idea as it's 26GB):</blurb>
<example>http://planet.openstreetmap.org/planet/planet-latest.osm.bz2</example>
<break/>

<blurb>A whole country:</blurb>
<example>http://download.geofabrik.de/openstreetmap/europe/great_britain/england.osm.bz2</example>
<blurb>Or pick a smaller country from<br/>
%http://download.geofabrik.de/openstreetmap/%</blurb>
<break/>

<blurb>XAPI (via Overpass):</blurb>
<example>http://www.overpass-api.de/api/xapi?*[bbox=7.1,51.2,7.2,51.3][amenity=restaurant]</example>
</div>

<div effect="fade-in">
<blurb>Overpass</blurb>
<example><![CDATA[
<?php
$bb = '<bbox-query e="0.334" n="51.691" s="51.286" w="-0.510"/>';

$data = <<<ENDDATA
<union>
    <query type="node"><has-kv k="amenity" v="pub"/>$bb</query>
    <query type="way"><has-kv k="amenity" v="pub"/>$bb</query>
</union>
<query type="node">
    <around radius="2"/>
    <has-kv k="highway" v="bus_stop"/>
</query>
<print/>
ENDDATA;

$params = array(
    'http' => array(
        'method' => 'POST',
        'content' => $data,
        'header' => 'Content-Type: application/x-www-form-urlencoded'
    )
);
$ctx = stream_context_create($params);
echo file_get_contents("http://overpass-api.de/api/interpreter", false, $ctx);
?>
]]></example>
</div>

</slide>
