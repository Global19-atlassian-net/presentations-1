<slide title='method.sql'>
<example title='Using method.sql from the XML-RPC API' result='1'
fontsize='1.0em' rfontsize='1.5em' outputbackground='#ffffdd'>
<![CDATA[
<?php
require_once "XML/RPC.php";
require_once "slides/mdb/scripts/xmlrpc_util.php";
$host = 'metallo.scripps.edu';
$port = 80;
$xmlrpc_uri = '/services/xmlrpc.php';

?>
<b>method.sql:</b> 
<small>"select source_id,expdata,rev_date,resolution,description 
from protein limit 10"</small><br>
<?php
$c=new XML_RPC_Client($xmlrpc_uri, $host, $port);
$method = "method.sql";
$query = "select source_id,expdata,rev_date,resolution,description from protein limit 10";

$q = new XML_RPC_Value($query, $GLOBALS['XML_RPC_String']);
$msg = new XML_RPC_Message($method,array($q));
$r = $c->send($msg);
$v = $r->value();
if (!$r->faultCode()) {
	echo toTable(XML_RPC_decode($v));
} else {
	echo "<pre>\n";
	echo "ERROR: ".$r->faultCode()." -- ".$r->faultString();
	echo "</pre>\n";
}

?>
]]>
</example>
</slide>
