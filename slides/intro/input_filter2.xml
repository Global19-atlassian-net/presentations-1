<slide title="pecl/filter">

<break lines="2" />

<example title="Config"><![CDATA[filter.default=special_chars]]></example>

<example title="API" fontsize="1.5em"><![CDATA[<?php
$email   = input_get(INPUT_POST, 'name', FILTER_VALIDATE_EMAIL);
$age     = input_get(INPUT_POST, 'age', FILTER_VALIDATE_INT);  
$url     = input_get(INPUT_COOKIE, 'url', FILTER_VALIDATE_URL);  
$raw_msg = input_get(INPUT_POST, 'msg', FILTER_UNSAFE_RAW);  
$options = input_array(INPUT_GET, 'options', FILTER_SANITIZE_SPECIAL_CHARS);

$data = filter_data($user_data, FILTER_SANITIZE_STRING);
?>]]></example>

<example title="All the Filters" fontsize="1.3em" result="1"><![CDATA[<table border="2" style="font-size:.9em; background:#fff;">
<?php
function test($data) {
  return strtoupper($data);
}
$data = array("PHP","123","123abc<>()","O'Henry", "하퍼");

echo "<tr><th> </th><td>PHP</td><td>123</td><td>123abc&lt;&gt;()</td>";
echo "<td>O'Henry</td><td>하퍼</td></tr>\n";
foreach(input_filters_list() as $filter) {
  $fn = input_name_to_filter($filter);
  switch($filter) {
    case 'validate_regexp':
      foreach($data as $k=>$v)
        $result[$k] = filter_data($v,$fn,array("regexp"=>'/^O.*/'));
      break;
    case 'callback':
      foreach($data as $k=>$v)
        $result[$k] = filter_data($v,$fn,"test");
      break;
    case 'validate_url':
      foreach($data as $k=>$v)
        $result[$k] = filter_data($v,$fn,FILTER_FLAG_SCHEME_REQUIRED);
      break;
    default:
      foreach($data as $k=>$v)
        $result[$k] = filter_data($v,$fn);
      break;
  }
  echo "<tr><th align='left'>$filter</th>";
  foreach($result as $v)
    echo "<td>".htmlspecialchars($v)."</td>";
  echo "</td></tr>\n";
}
?>
</table>]]></example>

</slide>
